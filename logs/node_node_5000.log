[2024-11-19 16:08:10,776] [DEBUG] [Blockchain] Initialized reputation_tokens with random values: {'node_5000': 93, 'node_5001': 86, 'node_5002': 51, 'node_5003': 58, 'node_5004': 90, 'node_5005': 87, 'node_5006': 90, 'node_5007': 92, 'node_5008': 79, 'node_5009': 70}
[2024-11-19 16:08:10,776] [INFO] [Blockchain] Creating genesis block.
[2024-11-19 16:08:10,776] [DEBUG] [Blockchain] Genesis block created: {
    "user_id": "genesis",
    "previous_hash": "0",
    "transaction": "Genesis Block",
    "commitment": "genesis_commitment",
    "timestamp": 1,
    "nonce": "nonce",
    "hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66"
}
[2024-11-19 16:08:10,776] [DEBUG] [Blockchain] Retrieving peer nodes for 'node_5000'.
[2024-11-19 16:08:10,777] [DEBUG] [Blockchain] Peer nodes from file: ['127.0.0.1:5001', '127.0.0.1:5002', '127.0.0.1:5003', '127.0.0.1:5004', '127.0.0.1:5005', '127.0.0.1:5006', '127.0.0.1:5007', '127.0.0.1:5008', '127.0.0.1:5009']
[2024-11-19 16:08:10,777] [DEBUG] [Blockchain] Loading consensus algorithm: HRBC
[2024-11-19 16:08:10,778] [DEBUG] [HRBC] Node properties initialized: {'node_5000': {'uptime': 0.9545357772632038, 'network_proximity': 0.24282166645731085}, 'node_5001': {'uptime': 0.9786621384851062, 'network_proximity': 0.27945823047936924}, 'node_5002': {'uptime': 0.9476848290075373, 'network_proximity': 0.9693998324974942}, 'node_5003': {'uptime': 0.9746581780764338, 'network_proximity': 0.2723742655811603}, 'node_5004': {'uptime': 0.9214223566187174, 'network_proximity': 0.9594549945884253}, 'node_5005': {'uptime': 0.9360231119787021, 'network_proximity': 0.2516313332120603}, 'node_5006': {'uptime': 0.988862397112182, 'network_proximity': 0.3638835243484506}, 'node_5007': {'uptime': 0.9990219640749044, 'network_proximity': 0.08419569471456922}, 'node_5008': {'uptime': 0.9034967039643372, 'network_proximity': 0.7902409854432717}, 'node_5009': {'uptime': 0.9852610931867986, 'network_proximity': 0.8919637172189655}}
[2024-11-19 16:08:10,778] [DEBUG] [HRBC] Clusters formed based on network proximity: {0: ['node_5007', 'node_5000', 'node_5005'], 1: ['node_5003', 'node_5001', 'node_5006'], 2: ['node_5008', 'node_5009', 'node_5004', 'node_5002']}
[2024-11-19 16:08:10,778] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:08:10,778] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:08:10,778] [DEBUG] [Blockchain] Initialized with node_id: node_5000, data_dir: node_data\node_node_5000
[2024-11-19 16:08:10,778] [DEBUG] [Blockchain] Peer nodes: ['127.0.0.1:5001', '127.0.0.1:5002', '127.0.0.1:5003', '127.0.0.1:5004', '127.0.0.1:5005', '127.0.0.1:5006', '127.0.0.1:5007', '127.0.0.1:5008', '127.0.0.1:5009']
[2024-11-19 16:08:10,778] [DEBUG] [Blockchain] Consensus algorithm: HRBC
[2024-11-19 16:08:10,781] [INFO] Starting Flask server on port 5000
 * Serving Flask app 'app'
 * Debug mode: on
[2024-11-19 16:08:10,802] [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-11-19 16:08:10,802] [INFO] [33mPress CTRL+C to quit[0m
[2024-11-19 16:08:25,007] [DEBUG] Entered /register endpoint
[2024-11-19 16:08:25,008] [DEBUG] Received registration data: {'userId': '9046513', 'hashedPassword': 6779112}
[2024-11-19 16:08:25,008] [INFO] User 9046513 registered successfully.
[2024-11-19 16:08:25,008] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "genesis",
    "previous_hash": "0",
    "transaction": "Genesis Block",
    "commitment": "genesis_commitment",
    "timestamp": 1,
    "nonce": "nonce",
    "hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66"
}
[2024-11-19 16:08:25,008] [DEBUG] [HRBC] initiate_consensus called: node_id=node_5000, cluster_id=0, transactions={'action': 'register'}
[2024-11-19 16:08:25,008] [DEBUG] [HRBC] Proposed block created: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,013] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5006
[2024-11-19 16:08:25,018] [DEBUG] [HRBC] Node node_5000 voted YES on block 89537ea4cb18e73b58a94256e6de21910218908f182d11afa8fafd295c18a098
[2024-11-19 16:08:25,018] [DEBUG] Vote requested for block: 89537ea4cb18e73b58a94256e6de21910218908f182d11afa8fafd295c18a098, Vote: True
[2024-11-19 16:08:25,019] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "POST /vote_on_block HTTP/1.1" 200 -
[2024-11-19 16:08:25,030] [DEBUG] http://127.0.0.1:5006 "POST /vote_on_block HTTP/1.1" 200 19
[2024-11-19 16:08:25,031] [DEBUG] [HRBC] Vote received from node_5006: True
[2024-11-19 16:08:25,033] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5004
[2024-11-19 16:08:25,036] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:08:25,037] [DEBUG] Received block data: {'user_id': '9046513', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012705.009533, 'consensus_node': 'node_5001'}
[2024-11-19 16:08:25,038] [DEBUG] http://127.0.0.1:5004 "POST /vote_on_block HTTP/1.1" 200 19
[2024-11-19 16:08:25,040] [DEBUG] Constructed new block: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.009533,
    "nonce": 0,
    "hash": "0155cc01153525f569f72e96a702e3cfa43052ccd690ffe6009b5df3dc9f9ddc"
}
[2024-11-19 16:08:25,040] [DEBUG] [HRBC] Vote received from node_5004: True
[2024-11-19 16:08:25,041] [INFO] [HRBC] Inter-cluster consensus achieved.
[2024-11-19 16:08:25,041] [INFO] [HRBC] Consensus achieved. Block: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,041] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "genesis",
    "previous_hash": "0",
    "transaction": "Genesis Block",
    "commitment": "genesis_commitment",
    "timestamp": 1,
    "nonce": "nonce",
    "hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66"
}
[2024-11-19 16:08:25,041] [INFO] [HRBC Consensus] Block added to blockchain: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,041] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:08:25,041] [DEBUG] [Blockchain] Updating metrics with new block: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,042] [DEBUG] [Blockchain] Block time: 1732012704.0085354 seconds.
[2024-11-19 16:08:25,042] [DEBUG] [Blockchain] Transactions per block updated: [1]
[2024-11-19 16:08:25,042] [DEBUG] [Blockchain] Block size: 287 bytes.
[2024-11-19 16:08:25,042] [DEBUG] [Blockchain] Total blockchain size: 287 bytes.
[2024-11-19 16:08:25,042] [DEBUG] [Blockchain] Current difficulty: 0
[2024-11-19 16:08:25,042] [DEBUG] {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,041] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:08:25,042] [INFO] New block created: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,043] [ERROR] Invalid block received.
[2024-11-19 16:08:25,043] [DEBUG] Broadcasting block to peers: ['127.0.0.1:5001', '127.0.0.1:5002', '127.0.0.1:5003', '127.0.0.1:5004', '127.0.0.1:5005', '127.0.0.1:5006', '127.0.0.1:5007', '127.0.0.1:5008', '127.0.0.1:5009'] with consensus_id: node_5000
[2024-11-19 16:08:25,044] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:08:25,044] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:08:25,046] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5001
[2024-11-19 16:08:25,047] [DEBUG] Received block data: {'user_id': '9046513', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012705.0105338, 'consensus_node': 'node_5002'}
[2024-11-19 16:08:25,047] [DEBUG] Constructed new block: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0105338,
    "nonce": 0,
    "hash": "89537ea4cb18e73b58a94256e6de21910218908f182d11afa8fafd295c18a098"
}
[2024-11-19 16:08:25,050] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,050] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:08:25,050] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:08:25,050] [ERROR] Invalid block received.
[2024-11-19 16:08:25,051] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:08:25,054] [DEBUG] http://127.0.0.1:5001 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,057] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:08:25,057] [DEBUG] Received block data: {'user_id': '9046513', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012705.028533, 'consensus_node': 'node_5007'}
[2024-11-19 16:08:25,057] [WARNING] Failed to broadcast block to 127.0.0.1:5001. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,057] [DEBUG] Constructed new block: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.028533,
    "nonce": 0,
    "hash": "b0f91b70c53061f586322bdbd68ac214d669e0b291c3aac4addf999c0ce4defe"
}
[2024-11-19 16:08:25,058] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,059] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:08:25,060] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:08:25,060] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5002
[2024-11-19 16:08:25,060] [ERROR] Invalid block received.
[2024-11-19 16:08:25,061] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:08:25,062] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:08:25,063] [DEBUG] Received block data: {'user_id': '9046513', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012705.035536, 'consensus_node': 'node_5006'}
[2024-11-19 16:08:25,063] [DEBUG] Constructed new block: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.035536,
    "nonce": 0,
    "hash": "7e647d904c968882c3c604dbe6dd037a7a001008280805923bde22451909be5c"
}
[2024-11-19 16:08:25,063] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:08:25,063] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:08:25,063] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:08:25,064] [ERROR] Invalid block received.
[2024-11-19 16:08:25,064] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:08:25,070] [DEBUG] http://127.0.0.1:5002 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,071] [WARNING] Failed to broadcast block to 127.0.0.1:5002. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,073] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5003
[2024-11-19 16:08:25,078] [DEBUG] http://127.0.0.1:5003 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,079] [WARNING] Failed to broadcast block to 127.0.0.1:5003. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,081] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5004
[2024-11-19 16:08:25,086] [DEBUG] http://127.0.0.1:5004 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,087] [WARNING] Failed to broadcast block to 127.0.0.1:5004. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,091] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5005
[2024-11-19 16:08:25,095] [DEBUG] http://127.0.0.1:5005 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,096] [WARNING] Failed to broadcast block to 127.0.0.1:5005. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,098] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5006
[2024-11-19 16:08:25,104] [DEBUG] http://127.0.0.1:5006 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,105] [WARNING] Failed to broadcast block to 127.0.0.1:5006. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,107] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5007
[2024-11-19 16:08:25,112] [DEBUG] http://127.0.0.1:5007 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,113] [WARNING] Failed to broadcast block to 127.0.0.1:5007. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,115] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5008
[2024-11-19 16:08:25,121] [DEBUG] http://127.0.0.1:5008 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,122] [WARNING] Failed to broadcast block to 127.0.0.1:5008. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,124] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5009
[2024-11-19 16:08:25,131] [DEBUG] http://127.0.0.1:5009 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:08:25,132] [WARNING] Failed to broadcast block to 127.0.0.1:5009. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:08:25,133] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "POST /register HTTP/1.1" 200 -
[2024-11-19 16:08:25,182] [DEBUG] Entered /initiate_zkp endpoint
[2024-11-19 16:08:25,183] [DEBUG] Received initiate_zkp data: {'userId': '9046513', 'T': 28}
[2024-11-19 16:08:25,183] [INFO] Commitment T stored for user 9046513.
[2024-11-19 16:08:25,184] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "POST /initiate_zkp HTTP/1.1" 200 -
[2024-11-19 16:08:25,219] [DEBUG] Entered /verify_zkp endpoint
[2024-11-19 16:08:25,220] [DEBUG] Received verify_zkp data: {'userId': '9046513', 's': 3, 'challenge': 6}
[2024-11-19 16:08:25,220] [INFO] ZKP verified for user 9046513. Token issued: {'user_id': '9046513', 'node_id': '127.0.0.1:5000', 'exp': datetime.datetime(2024, 11, 19, 10, 43, 25, 220532)}
[2024-11-19 16:08:25,221] [INFO] 127.0.0.1 - - [19/Nov/2024 16:08:25] "POST /verify_zkp HTTP/1.1" 200 -
[2024-11-19 16:09:32,713] [DEBUG] Entered /register endpoint
[2024-11-19 16:09:32,713] [DEBUG] Received registration data: {'userId': '4550692', 'hashedPassword': 3746812}
[2024-11-19 16:09:32,713] [INFO] User 4550692 registered successfully.
[2024-11-19 16:09:32,713] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:09:32,713] [DEBUG] [HRBC] initiate_consensus called: node_id=node_5000, cluster_id=0, transactions={'action': 'register'}
[2024-11-19 16:09:32,713] [DEBUG] [HRBC] Proposed block created: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,714] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5006
[2024-11-19 16:09:32,722] [DEBUG] [HRBC] Node node_5000 voted NO on block c00ac4a60b92e26d19299fa2351c601479dd41029f7825e7fc36a4ca32a04c52
[2024-11-19 16:09:32,722] [DEBUG] Vote requested for block: c00ac4a60b92e26d19299fa2351c601479dd41029f7825e7fc36a4ca32a04c52, Vote: False
[2024-11-19 16:09:32,722] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "POST /vote_on_block HTTP/1.1" 200 -
[2024-11-19 16:09:32,734] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:09:32,734] [DEBUG] Received block data: {'user_id': '4550692', 'previous_hash': '89537ea4cb18e73b58a94256e6de21910218908f182d11afa8fafd295c18a098', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012772.718238, 'consensus_node': 'node_5002'}
[2024-11-19 16:09:32,735] [DEBUG] Constructed new block: {
    "user_id": "4550692",
    "previous_hash": "89537ea4cb18e73b58a94256e6de21910218908f182d11afa8fafd295c18a098",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.718238,
    "nonce": 0,
    "hash": "c00ac4a60b92e26d19299fa2351c601479dd41029f7825e7fc36a4ca32a04c52"
}
[2024-11-19 16:09:32,735] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:09:32,735] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:09:32,735] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:09:32,735] [ERROR] Invalid block received.
[2024-11-19 16:09:32,735] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:09:32,737] [DEBUG] http://127.0.0.1:5006 "POST /vote_on_block HTTP/1.1" 200 19
[2024-11-19 16:09:32,739] [DEBUG] [HRBC] Vote received from node_5006: True
[2024-11-19 16:09:32,740] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5004
[2024-11-19 16:09:32,746] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:09:32,746] [DEBUG] Received block data: {'user_id': '4550692', 'previous_hash': 'b0f91b70c53061f586322bdbd68ac214d669e0b291c3aac4addf999c0ce4defe', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012772.713237, 'consensus_node': 'node_5007'}
[2024-11-19 16:09:32,746] [DEBUG] Constructed new block: {
    "user_id": "4550692",
    "previous_hash": "b0f91b70c53061f586322bdbd68ac214d669e0b291c3aac4addf999c0ce4defe",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6be55a15c76955f1a14eaa059de7ed0cf36063ab2fa4c11daeae1b002515afa3"
}
[2024-11-19 16:09:32,746] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:09:32,746] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:09:32,746] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:09:32,746] [ERROR] Invalid block received.
[2024-11-19 16:09:32,746] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:09:32,752] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:09:32,752] [DEBUG] Received block data: {'user_id': '4550692', 'previous_hash': '0155cc01153525f569f72e96a702e3cfa43052ccd690ffe6009b5df3dc9f9ddc', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012772.7162378, 'consensus_node': 'node_5001'}
[2024-11-19 16:09:32,752] [DEBUG] Constructed new block: {
    "user_id": "4550692",
    "previous_hash": "0155cc01153525f569f72e96a702e3cfa43052ccd690ffe6009b5df3dc9f9ddc",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.7162378,
    "nonce": 0,
    "hash": "269dce6739a60f55cc81f868352e898391fae6281053a8c68685fdf810e94741"
}
[2024-11-19 16:09:32,752] [DEBUG] http://127.0.0.1:5004 "POST /vote_on_block HTTP/1.1" 200 20
[2024-11-19 16:09:32,752] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "9046513",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012705.0085354,
    "nonce": 0,
    "hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec"
}
[2024-11-19 16:09:32,754] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:09:32,754] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:09:32,754] [ERROR] Invalid block received.
[2024-11-19 16:09:32,755] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:09:32,753] [DEBUG] [HRBC] Vote received from node_5004: False
[2024-11-19 16:09:32,755] [INFO] [HRBC] Inter-cluster consensus achieved.
[2024-11-19 16:09:32,755] [INFO] [HRBC] Consensus achieved. Block: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,755] [INFO] [HRBC Consensus] Block added to blockchain: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,755] [DEBUG] [Blockchain] Updating metrics with new block: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,755] [DEBUG] [Blockchain] Block time: 67.7047016620636 seconds.
[2024-11-19 16:09:32,755] [DEBUG] [Blockchain] Transactions per block updated: [1, 1]
[2024-11-19 16:09:32,756] [DEBUG] [Blockchain] Block size: 286 bytes.
[2024-11-19 16:09:32,756] [DEBUG] [Blockchain] Total blockchain size: 573 bytes.
[2024-11-19 16:09:32,756] [DEBUG] [Blockchain] Current difficulty: 0
[2024-11-19 16:09:32,756] [DEBUG] {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,756] [INFO] New block created: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,756] [DEBUG] Broadcasting block to peers: ['127.0.0.1:5001', '127.0.0.1:5002', '127.0.0.1:5003', '127.0.0.1:5004', '127.0.0.1:5005', '127.0.0.1:5006', '127.0.0.1:5007', '127.0.0.1:5008', '127.0.0.1:5009'] with consensus_id: node_5000
[2024-11-19 16:09:32,757] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5001
[2024-11-19 16:09:32,759] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:09:32,761] [DEBUG] Received block data: {'user_id': '4550692', 'previous_hash': '7e647d904c968882c3c604dbe6dd037a7a001008280805923bde22451909be5c', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012772.718238, 'consensus_node': 'node_5006'}
[2024-11-19 16:09:32,761] [DEBUG] Constructed new block: {
    "user_id": "4550692",
    "previous_hash": "7e647d904c968882c3c604dbe6dd037a7a001008280805923bde22451909be5c",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.718238,
    "nonce": 0,
    "hash": "cc656f2edb330258fb9aacf9a8a966f63769eae020ab57493668ef4aca5ceccf"
}
[2024-11-19 16:09:32,761] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,761] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5003', 2: 'node_5004'}
[2024-11-19 16:09:32,761] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:09:32,761] [ERROR] Invalid block received.
[2024-11-19 16:09:32,762] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:09:32,762] [DEBUG] http://127.0.0.1:5001 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,762] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:09:32,763] [WARNING] Failed to broadcast block to 127.0.0.1:5001. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,763] [DEBUG] Received block data: {'user_id': '4550692', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012772.717239, 'consensus_node': 'node_5003'}
[2024-11-19 16:09:32,764] [DEBUG] Constructed new block: {
    "user_id": "4550692",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.717239,
    "nonce": 0,
    "hash": "0a2b32a3937b8309e47a765371deeb99402051c62d5bc88efa0371e1dd3ed5b9"
}
[2024-11-19 16:09:32,764] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,764] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5004'}
[2024-11-19 16:09:32,765] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:09:32,765] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5002
[2024-11-19 16:09:32,766] [ERROR] Invalid block received.
[2024-11-19 16:09:32,767] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:09:32,768] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:09:32,768] [DEBUG] Received block data: {'user_id': '4550692', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012772.718238, 'consensus_node': 'node_5004'}
[2024-11-19 16:09:32,768] [DEBUG] Constructed new block: {
    "user_id": "4550692",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.718238,
    "nonce": 0,
    "hash": "a0d3f91a3ba4af9bd226415015d693456e6baff8802307e40b9b2b87493bcb18"
}
[2024-11-19 16:09:32,768] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:09:32,768] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5008'}
[2024-11-19 16:09:32,769] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:09:32,769] [ERROR] Invalid block received.
[2024-11-19 16:09:32,769] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:09:32,772] [DEBUG] http://127.0.0.1:5002 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,773] [WARNING] Failed to broadcast block to 127.0.0.1:5002. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,775] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5003
[2024-11-19 16:09:32,778] [DEBUG] http://127.0.0.1:5003 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,778] [WARNING] Failed to broadcast block to 127.0.0.1:5003. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,780] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5004
[2024-11-19 16:09:32,802] [DEBUG] http://127.0.0.1:5004 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,802] [WARNING] Failed to broadcast block to 127.0.0.1:5004. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,804] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5005
[2024-11-19 16:09:32,810] [DEBUG] http://127.0.0.1:5005 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,810] [WARNING] Failed to broadcast block to 127.0.0.1:5005. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,811] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5006
[2024-11-19 16:09:32,837] [DEBUG] http://127.0.0.1:5006 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,837] [WARNING] Failed to broadcast block to 127.0.0.1:5006. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,839] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5007
[2024-11-19 16:09:32,846] [DEBUG] http://127.0.0.1:5007 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,847] [WARNING] Failed to broadcast block to 127.0.0.1:5007. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,848] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5008
[2024-11-19 16:09:32,853] [DEBUG] http://127.0.0.1:5008 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,853] [WARNING] Failed to broadcast block to 127.0.0.1:5008. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,854] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5009
[2024-11-19 16:09:32,877] [DEBUG] http://127.0.0.1:5009 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:09:32,878] [WARNING] Failed to broadcast block to 127.0.0.1:5009. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:09:32,878] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "POST /register HTTP/1.1" 200 -
[2024-11-19 16:09:32,885] [DEBUG] Entered /initiate_zkp endpoint
[2024-11-19 16:09:32,886] [DEBUG] Received initiate_zkp data: {'userId': '4550692', 'T': 5}
[2024-11-19 16:09:32,887] [INFO] Commitment T stored for user 4550692.
[2024-11-19 16:09:32,887] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "POST /initiate_zkp HTTP/1.1" 200 -
[2024-11-19 16:09:32,906] [DEBUG] Entered /verify_zkp endpoint
[2024-11-19 16:09:32,906] [DEBUG] Received verify_zkp data: {'userId': '4550692', 's': 5, 'challenge': 10}
[2024-11-19 16:09:32,906] [INFO] ZKP verified for user 4550692. Token issued: {'user_id': '4550692', 'node_id': '127.0.0.1:5000', 'exp': datetime.datetime(2024, 11, 19, 10, 44, 32, 906236)}
[2024-11-19 16:09:32,906] [INFO] 127.0.0.1 - - [19/Nov/2024 16:09:32] "POST /verify_zkp HTTP/1.1" 200 -
[2024-11-19 16:11:49,659] [DEBUG] Entered /register endpoint
[2024-11-19 16:11:49,660] [DEBUG] Received registration data: {'userId': '8374846', 'hashedPassword': 6585755}
[2024-11-19 16:11:49,660] [INFO] User 8374846 registered successfully.
[2024-11-19 16:11:49,660] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:11:49,660] [DEBUG] [HRBC] initiate_consensus called: node_id=node_5000, cluster_id=0, transactions={'action': 'register'}
[2024-11-19 16:11:49,661] [DEBUG] [HRBC] Proposed block created: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,662] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5006
[2024-11-19 16:11:49,669] [DEBUG] [HRBC] Node node_5000 voted YES on block acb5f8c4f1eff61a1d66975a1e046ec6d8a74d0732ded110af95c3e02fb074e6
[2024-11-19 16:11:49,669] [DEBUG] Vote requested for block: acb5f8c4f1eff61a1d66975a1e046ec6d8a74d0732ded110af95c3e02fb074e6, Vote: True
[2024-11-19 16:11:49,670] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "POST /vote_on_block HTTP/1.1" 200 -
[2024-11-19 16:11:49,677] [DEBUG] http://127.0.0.1:5006 "POST /vote_on_block HTTP/1.1" 200 20
[2024-11-19 16:11:49,677] [DEBUG] [HRBC] Vote received from node_5006: False
[2024-11-19 16:11:49,679] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5008
[2024-11-19 16:11:49,686] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,687] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': '269dce6739a60f55cc81f868352e898391fae6281053a8c68685fdf810e94741', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6657073, 'consensus_node': 'node_5001'}
[2024-11-19 16:11:49,687] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "269dce6739a60f55cc81f868352e898391fae6281053a8c68685fdf810e94741",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6657073,
    "nonce": 0,
    "hash": "46b7a600cb159a31d400cd230920368b1c46b89741e9aa11de9175e1f3b46429"
}
[2024-11-19 16:11:49,687] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:11:49,688] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,688] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5008'}
[2024-11-19 16:11:49,688] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': '6be55a15c76955f1a14eaa059de7ed0cf36063ab2fa4c11daeae1b002515afa3', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6677077, 'consensus_node': 'node_5007'}
[2024-11-19 16:11:49,688] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,689] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,689] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "6be55a15c76955f1a14eaa059de7ed0cf36063ab2fa4c11daeae1b002515afa3",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6677077,
    "nonce": 0,
    "hash": "d72bcd3b72724a71ebe7d76637c31b172f032a71736a81ba6842e97e77a5f0a7"
}
[2024-11-19 16:11:49,689] [ERROR] Invalid block received.
[2024-11-19 16:11:49,690] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': 'c00ac4a60b92e26d19299fa2351c601479dd41029f7825e7fc36a4ca32a04c52', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6657073, 'consensus_node': 'node_5002'}
[2024-11-19 16:11:49,690] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:11:49,690] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,691] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "c00ac4a60b92e26d19299fa2351c601479dd41029f7825e7fc36a4ca32a04c52",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6657073,
    "nonce": 0,
    "hash": "acb5f8c4f1eff61a1d66975a1e046ec6d8a74d0732ded110af95c3e02fb074e6"
}
[2024-11-19 16:11:49,691] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5008'}
[2024-11-19 16:11:49,691] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,691] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "4550692",
    "previous_hash": "36cdd76db9e71fc12df1430acee37bccf3a663b0a26046be0f7f63c84a6789ec",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012772.713237,
    "nonce": 0,
    "hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7"
}
[2024-11-19 16:11:49,691] [ERROR] Invalid block received.
[2024-11-19 16:11:49,692] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5008'}
[2024-11-19 16:11:49,693] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,693] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,693] [DEBUG] http://127.0.0.1:5008 "POST /vote_on_block HTTP/1.1" 200 19
[2024-11-19 16:11:49,695] [ERROR] Invalid block received.
[2024-11-19 16:11:49,695] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,696] [DEBUG] [HRBC] Vote received from node_5008: True
[2024-11-19 16:11:49,696] [INFO] [HRBC] Inter-cluster consensus achieved.
[2024-11-19 16:11:49,696] [INFO] [HRBC] Consensus achieved. Block: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,696] [INFO] [HRBC Consensus] Block added to blockchain: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,697] [DEBUG] [Blockchain] Updating metrics with new block: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,697] [DEBUG] [Blockchain] Block time: 136.94747161865234 seconds.
[2024-11-19 16:11:49,697] [DEBUG] [Blockchain] Transactions per block updated: [1, 1, 1]
[2024-11-19 16:11:49,697] [DEBUG] [Blockchain] Block size: 287 bytes.
[2024-11-19 16:11:49,698] [DEBUG] [Blockchain] Total blockchain size: 860 bytes.
[2024-11-19 16:11:49,698] [DEBUG] [Blockchain] Current difficulty: 0
[2024-11-19 16:11:49,699] [DEBUG] {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,699] [INFO] New block created: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,699] [DEBUG] Broadcasting block to peers: ['127.0.0.1:5001', '127.0.0.1:5002', '127.0.0.1:5003', '127.0.0.1:5004', '127.0.0.1:5005', '127.0.0.1:5006', '127.0.0.1:5007', '127.0.0.1:5008', '127.0.0.1:5009'] with consensus_id: node_5000
[2024-11-19 16:11:49,701] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,702] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': '45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6677077, 'consensus_node': 'node_5005'}
[2024-11-19 16:11:49,703] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5001
[2024-11-19 16:11:49,703] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "45c01128a000954fabe165f58e7f58c70fa5860f007c8f70eade6a8ac39a3b66",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6677077,
    "nonce": 0,
    "hash": "61435c546885e6254b36587d18e716c8d619065d066a67fe84c2dd3c9b0070d3"
}
[2024-11-19 16:11:49,703] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,703] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5008'}
[2024-11-19 16:11:49,703] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,703] [ERROR] Invalid block received.
[2024-11-19 16:11:49,704] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,706] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,707] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,708] [DEBUG] http://127.0.0.1:5001 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,708] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': 'cc656f2edb330258fb9aacf9a8a966f63769eae020ab57493668ef4aca5ceccf', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6657073, 'consensus_node': 'node_5006'}
[2024-11-19 16:11:49,708] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': 'a0d3f91a3ba4af9bd226415015d693456e6baff8802307e40b9b2b87493bcb18', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6677077, 'consensus_node': 'node_5004'}
[2024-11-19 16:11:49,708] [WARNING] Failed to broadcast block to 127.0.0.1:5001. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,709] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "cc656f2edb330258fb9aacf9a8a966f63769eae020ab57493668ef4aca5ceccf",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6657073,
    "nonce": 0,
    "hash": "fb0a727a0eb0ccc56b85b1adabfaccea19906be2f853b2074db3c017d556a320"
}
[2024-11-19 16:11:49,710] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "a0d3f91a3ba4af9bd226415015d693456e6baff8802307e40b9b2b87493bcb18",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6677077,
    "nonce": 0,
    "hash": "f81b8c262aa0dba6a974e63096ed9abb4a616fefe24605b17590fc6e08767289"
}
[2024-11-19 16:11:49,710] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,712] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,712] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5002
[2024-11-19 16:11:49,713] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5003', 2: 'node_5008'}
[2024-11-19 16:11:49,713] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5003', 2: 'node_5008'}
[2024-11-19 16:11:49,714] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,714] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,714] [ERROR] Invalid block received.
[2024-11-19 16:11:49,714] [ERROR] Invalid block received.
[2024-11-19 16:11:49,715] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,715] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,719] [DEBUG] http://127.0.0.1:5002 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,720] [WARNING] Failed to broadcast block to 127.0.0.1:5002. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,721] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5003
[2024-11-19 16:11:49,727] [DEBUG] http://127.0.0.1:5003 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,728] [WARNING] Failed to broadcast block to 127.0.0.1:5003. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,730] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5004
[2024-11-19 16:11:49,734] [DEBUG] http://127.0.0.1:5004 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,736] [WARNING] Failed to broadcast block to 127.0.0.1:5004. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,737] [DEBUG] Entered /receive_block endpoint
[2024-11-19 16:11:49,738] [DEBUG] Received block data: {'user_id': '8374846', 'previous_hash': '0a2b32a3937b8309e47a765371deeb99402051c62d5bc88efa0371e1dd3ed5b9', 'transaction': {'action': 'register'}, 'nonce': 0, 'commitment': None, 'timestamp': 1732012909.6677077, 'consensus_node': 'node_5003'}
[2024-11-19 16:11:49,738] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5005
[2024-11-19 16:11:49,738] [DEBUG] Constructed new block: {
    "user_id": "8374846",
    "previous_hash": "0a2b32a3937b8309e47a765371deeb99402051c62d5bc88efa0371e1dd3ed5b9",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6677077,
    "nonce": 0,
    "hash": "0430d0f37678ca32cd971a75994d13cffbfbe08de1014fcc79b70cd1bcd010f6"
}
[2024-11-19 16:11:49,739] [DEBUG] [Blockchain] Last block retrieved: {
    "user_id": "8374846",
    "previous_hash": "6e582b9420a17f808a631f55d9a877f2fbb857c7e8df3ff8883dc0bcf7a91dc7",
    "transaction": {
        "action": "register"
    },
    "commitment": null,
    "timestamp": 1732012909.6607087,
    "nonce": 0,
    "hash": "40058b6b2dca3f61281fdfbbfa50e1569380a61e79bc4daa017534a97ab7c4a0"
}
[2024-11-19 16:11:49,739] [DEBUG] [HRBC] Cluster leaders elected: {0: 'node_5000', 1: 'node_5006', 2: 'node_5008'}
[2024-11-19 16:11:49,739] [DEBUG] [HRBC] Super node elected: node_5000
[2024-11-19 16:11:49,739] [ERROR] Invalid block received.
[2024-11-19 16:11:49,740] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "[31m[1mPOST /receive_block HTTP/1.1[0m" 400 -
[2024-11-19 16:11:49,742] [DEBUG] http://127.0.0.1:5005 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,743] [WARNING] Failed to broadcast block to 127.0.0.1:5005. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,745] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5006
[2024-11-19 16:11:49,748] [DEBUG] http://127.0.0.1:5006 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,749] [WARNING] Failed to broadcast block to 127.0.0.1:5006. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,750] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5007
[2024-11-19 16:11:49,754] [DEBUG] http://127.0.0.1:5007 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,754] [WARNING] Failed to broadcast block to 127.0.0.1:5007. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,756] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5008
[2024-11-19 16:11:49,759] [DEBUG] http://127.0.0.1:5008 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,760] [WARNING] Failed to broadcast block to 127.0.0.1:5008. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,762] [DEBUG] Starting new HTTP connection (1): 127.0.0.1:5009
[2024-11-19 16:11:49,765] [DEBUG] http://127.0.0.1:5009 "POST /receive_block HTTP/1.1" 400 33
[2024-11-19 16:11:49,766] [WARNING] Failed to broadcast block to 127.0.0.1:5009. HTTP Error: 400 - BAD REQUEST
[2024-11-19 16:11:49,766] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "POST /register HTTP/1.1" 200 -
[2024-11-19 16:11:49,820] [DEBUG] Entered /initiate_zkp endpoint
[2024-11-19 16:11:49,821] [DEBUG] Received initiate_zkp data: {'userId': '8374846', 'T': 16}
[2024-11-19 16:11:49,821] [INFO] Commitment T stored for user 8374846.
[2024-11-19 16:11:49,821] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "POST /initiate_zkp HTTP/1.1" 200 -
[2024-11-19 16:11:49,841] [DEBUG] Entered /verify_zkp endpoint
[2024-11-19 16:11:49,843] [DEBUG] Received verify_zkp data: {'userId': '8374846', 's': 16, 'challenge': 26}
[2024-11-19 16:11:49,843] [INFO] ZKP verified for user 8374846. Token issued: {'user_id': '8374846', 'node_id': '127.0.0.1:5000', 'exp': datetime.datetime(2024, 11, 19, 10, 46, 49, 843705)}
[2024-11-19 16:11:49,843] [INFO] 127.0.0.1 - - [19/Nov/2024 16:11:49] "POST /verify_zkp HTTP/1.1" 200 -
